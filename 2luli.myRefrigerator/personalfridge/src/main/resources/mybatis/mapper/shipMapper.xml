<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.multi.personalfridge.ship.ShipMapper">


	<select id="getShipByShipCode" parameterType="String"  resultType="Ship">
        SELECT * 
        FROM ship
        WHERE ship_code = #{ship_code} AND go_on = 0
    </select>
	
    <update id="PassShip" parameterType="int">
	    UPDATE ship
	    SET go_on = 1
	    WHERE ship_id = #{ship_id} 
	</update>
	
	<delete id="deleteShipByShipCode" parameterType="String">
    	delete
    	from ship 
    	where ship_code = #{ship_code}
    </delete>
    
    <insert id="inserShipInfo" parameterType="Ship">
    INSERT INTO ship (user_id, ship_code, arrive, sub_adress, now_location)
    VALUES (#{user_id}, #{ship_code}, #{arrive}, #{sub_adress}, #{now_location})
	</insert>
	
    <insert id="UpdateShip" parameterType="Ship">
    INSERT INTO ship (user_id, ship_code, arrive, sub_adress, now_location)
    VALUES (#{user_id}, #{ship_code}, #{arrive}, #{sub_adress}, #{now_location})
	</insert>
	
	<select id="getShipByUserId" parameterType="String"  resultType="Ship">
        SELECT * 
        FROM ship
        WHERE user_id = #{user_id}
    </select>
    
</mapper>